<?xml version="1.0" encoding="UTF-8"?>

<prelertViews>

	<!-- Evidence Lists -->
	
	<listView viewClass="com.prelert.data.ListView">
		<name>Weekly Evidence</name>
		<styleId>list-week</styleId>
		<dbView>evidence_week</dbView>
		<filter></filter>
		<defaultOrderBy>
			<sortInfo>
				<columnName>last_occurred</columnName>
				<sortDirection>DESC</sortDirection>
			</sortInfo>
		</defaultOrderBy>
		<contextMenu>
			<menuItem>
				<name>Show By Day</name>
				<viewToOpen>Evidence By Day</viewToOpen>
				<queryFilter>description = ?</queryFilter>
				<filterArg>description</filterArg>
			</menuItem>
		</contextMenu>
	</listView>
	
	<listView viewClass="com.prelert.data.ListView">
		<name>Evidence By Day</name>
		<styleId>list-day</styleId>
		<dbView>evidence_day</dbView>
		<filter></filter>
		<defaultOrderBy>
			<sortInfo>
				<columnName>last_occurred</columnName>
				<sortDirection>DESC</sortDirection>
			</sortInfo>
		</defaultOrderBy>
		<contextMenu>
			<menuItem>
				<name>Show By Hour</name>
				<viewToOpen>Evidence By Hour</viewToOpen>
				<queryFilter>description = ? AND DATE_FORMAT(hour,'%Y-%m-%d') = ?</queryFilter>
				<filterArg>description</filterArg>
				<filterArg>day</filterArg>
			</menuItem>
		</contextMenu>
	</listView>
	
	<listView viewClass="com.prelert.data.ListView">
		<name>Evidence By Hour</name>
		<styleId>list-hour</styleId>
		<dbView>evidence_hour</dbView>
		<filter></filter>
		<defaultOrderBy>
			<sortInfo>
				<columnName>last_occurred</columnName>
				<sortDirection>DESC</sortDirection>
			</sortInfo>
		</defaultOrderBy>
		<contextMenu>
			<menuItem>
				<name>Show By Minute</name>
				<viewToOpen>Evidence By Minute</viewToOpen>
				<queryFilter>description = ? AND DATE_FORMAT(minute,'%Y-%m-%d %H:00-59') = ?</queryFilter>
				<filterArg>description</filterArg>
				<filterArg>hour</filterArg>
			</menuItem>
		</contextMenu>
	</listView>
	
	<listView viewClass="com.prelert.data.ListView">
		<name>Evidence By Minute</name>
		<styleId>list-min</styleId>
		<dbView>evidence_minute</dbView>
		<filter></filter>
		<defaultOrderBy>
			<sortInfo>
				<columnName>last_occurred</columnName>
				<sortDirection>DESC</sortDirection>
			</sortInfo>
		</defaultOrderBy>
		<contextMenu>
			<menuItem>
				<name>Show By Second</name>
				<viewToOpen>Evidence By Second</viewToOpen>
				<selectRowFilter>description = ? AND DATE_FORMAT(time,'%Y-%m-%d %H:%i') = ?</selectRowFilter>
				<selectRowFilterArg>description</selectRowFilterArg>
				<selectRowFilterArg>minute</selectRowFilterArg>
			</menuItem>
		</contextMenu>
	</listView>
	
	<listView viewClass="com.prelert.data.ListView">
		<name>Evidence By Second</name>
		<styleId>list-sec</styleId>
		<dbView>evidence_second</dbView>
		<filter></filter>
		<defaultOrderBy>
			<sortInfo>
				<columnName>time</columnName>
				<sortDirection>DESC</sortDirection>
			</sortInfo>
			<sortInfo>
				<columnName>id</columnName>
				<sortDirection>DESC</sortDirection>
			</sortInfo>
		</defaultOrderBy>
		<showInfo>true</showInfo>
	</listView>
	
	
	<listView>
		<name>Probable Causes</name>
		<styleId>prob-cause</styleId>
		<dbView>probable_cause_view</dbView>
		<filter></filter>
		<defaultOrderBy>
			<sortInfo>
				<columnName>last_occurred</columnName>
				<sortDirection>DESC</sortDirection>
			</sortInfo>
		</defaultOrderBy>
		<showInfo>true</showInfo>
		<contextMenu>
			<menuItem>
				<name>Show Evidence</name>
				<viewToOpen>Evidence By Second</viewToOpen>
				<queryFilter>probable_cause = ?</queryFilter>
				<filterArg>id</filterArg>
			</menuItem>
		</contextMenu>
	</listView>
	
	<!-- Usage Charts  -->
	<usageView>
		<name>User Usage</name>
		<styleId>line-graph</styleId>
		<serviceId>Users</serviceId>
		<metrics>
			<metricName>total</metricName>
		</metrics>
		<labels>
			<sourceField>Source</sourceField>
			<allSources>All Sources</allSources>
			<selectSource>Select source...</selectSource>
			<userField>User</userField>
			<allUsers>All Users</allUsers>
			<selectUser>Select user...</selectUser>
		</labels>
	</usageView>
	
	<usageView>
		<name>Server Usage</name>
		<styleId>line-graph</styleId>
		<serviceId>Servers</serviceId>
		<metrics>
			<metricName>active</metricName>
			<metricName>pending</metricName>
			<metricName>pendingOut</metricName>
			<metricName>serverload</metricName>
		</metrics>
		<labels>
			<sourceField>Source</sourceField>
			<allSources>All Sources</allSources>
			<selectSource>Select source...</selectSource>
			<userField>Server</userField>
			<allUsers>All Servers</allUsers>
			<selectUser>Select server...</selectUser>
		</labels>
	</usageView>
	

</prelertViews>