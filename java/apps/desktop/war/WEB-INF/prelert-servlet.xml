<?xml version="1.0" encoding="UTF-8"?>

<beans 	xmlns="http://www.springframework.org/schema/beans"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xmlns:aop="http://www.springframework.org/schema/aop"
		xsi:schemaLocation="
		http://www.springframework.org/schema/beans
			http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		http://www.springframework.org/schema/aop 
			http://www.springframework.org/schema/aop/spring-aop-2.5.xsd">
					
	<!-- the application context definition for the prelert DispatcherServlet -->
	

	<bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
		<property name="urlMap">
			<map>
				<entry key="causalityQueryService">
					<ref bean="causalityViewServiceController"/>
				</entry>
				<entry key="evidenceQueryService">
					<ref bean="evidenceViewServiceController"/>
				</entry>
				<entry key="exceptionQueryService">
					<ref bean="exceptionViewServiceController"/>
				</entry>
				<entry key="listViewQueryService">
					<ref bean="listViewServiceController"/>
				</entry>
				<entry key="logoutService">
					<ref bean="logoutController"/>
				</entry>
				<entry key="timeSeriesGXTPagingService">
					<ref bean="timeSeriesGXTPagingServiceController"/>
				</entry>
				<entry key="viewDirectoryService">
					<ref bean="viewDirectoryServiceController"/>
				</entry>
			</map>
		</property>
	</bean> 
	
	
	<bean id="causalityViewServiceController" class="com.prelert.web.ServletWrappingController" >
		<property name="servletName" value="causalityQueryService"/>
		<property name="servletInstance">
			<ref bean="causalityQueryService"/>
		</property>
	</bean>
	
	<bean id="causalityQueryService" class="com.prelert.server.CausalityQueryServiceImpl">
		<property name="causalityDAO" ref="causalityDAO"/>
		<property name="transactionManager" ref="txManager"/>
	</bean>
	
	<bean id="evidenceViewServiceController" class="com.prelert.web.ServletWrappingController" >
		<property name="servletName" value="evidenceQueryService"/>
		<property name="servletInstance">
			<ref bean="evidenceQueryService"/>
		</property>
	</bean>
	
	<bean id="evidenceQueryService" class="com.prelert.server.EvidenceQueryServiceImpl">
		<property name="evidenceDAO" ref="evidenceViewDAO"/>
		<property name="transactionManager" ref="txManager"/>
	</bean>
	
	<bean id="exceptionViewServiceController" class="com.prelert.web.ServletWrappingController" >
		<property name="servletName" value="exceptionQueryService"/>
		<property name="servletInstance">
			<ref bean="exceptionQueryService"/>
		</property>
	</bean>
	
	<bean id="exceptionQueryService" class="com.prelert.server.ExceptionQueryServiceImpl">
		<property name="exceptionDAO" ref="exceptionViewDAO"/>
		<property name="transactionManager" ref="txManager"/>
	</bean>
	
	<bean id="listViewServiceController" class="com.prelert.web.ServletWrappingController" >
		<property name="servletName" value="listViewQueryService"/>
		<property name="servletInstance">
			<ref bean="listViewQueryService"/>
		</property>
	</bean>
	
	<bean id="listViewQueryService" class="com.prelert.server.ListViewQueryServiceImpl">
		<property name="listViewDAO" ref="listViewDAO"/>
		<property name="transactionManager" ref="txManager"/>
	</bean>
	
	<bean id="logoutController" class="com.prelert.web.LogoutController">
		<property name="loginPage" value="redirect:/Desktop.html"/>
	</bean>
	
	<bean id="timeSeriesGXTPagingServiceController" class="com.prelert.web.ServletWrappingController" >
		<property name="servletName" value="timeSeriesGXTPagingService"/>
		<property name="servletInstance">
			<ref bean="timeSeriesGXTPagingService"/>
		</property>
	</bean>
	
	<bean id="timeSeriesGXTPagingService" class="com.prelert.server.TimeSeriesGXTPagingServiceImpl">
		<property name="timeSeriesDAO" ref="timeSeriesDAO"/>
		<property name="transactionManager" ref="txManager"/>
	</bean>
	
	<bean id="viewDirectoryServiceController" class="com.prelert.web.ServletWrappingController" >
		<property name="servletName" value="viewDirectoryService"/>
		<property name="servletInstance">
			<ref bean="viewDirectoryService"/>
		</property>
	</bean>

	<bean id="viewDirectoryService" class="com.prelert.server.ViewDirectoryServiceImpl">
		<property name="viewDirectory" ref="viewDirectory"/>
		<property name="evidenceDAO" ref="evidenceViewDAO"/>
	</bean>
	
</beans>